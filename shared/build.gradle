plugins {
    id 'java-library'
}

description = 'Shared domain components and utilities'

dependencies {
    // Axon Framework
    api 'org.axonframework:axon-spring-boot-starter:4.10.3'
    
    // Spring Boot
    api 'org.springframework.boot:spring-boot-starter'
    // Spring Data JPA for CrudRepository and Jakarta Persistence API
    api 'org.springframework.boot:spring-boot-starter-data-jpa'
    // Validation annotations
    api 'org.springframework.boot:spring-boot-starter-validation'
    api 'jakarta.persistence:jakarta.persistence-api:3.1.0'
    // Ensure core Spring Data types and validation API are available to consumers/editors
    api 'org.springframework.data:spring-data-commons'
    api 'jakarta.validation:jakarta.validation-api:3.0.2'

    // No project dependencies to avoid circular references. Subprojects that need shared should depend on this module.
    
    // Test dependencies
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation 'org.axonframework:axon-test:4.10.3'
}

// Configure JAR to be plain JAR (not executable)
jar {
    enabled = true
    archiveClassifier = ''
}

// Disable bootJar task since this is a library
bootJar {
    enabled = false
}
